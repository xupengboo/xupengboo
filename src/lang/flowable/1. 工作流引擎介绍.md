---
title: 1. 工作流 介绍
order: 1
---

## 1. 工作流引擎

一些框架专门用于实现和管理工作流。例如，**Camunda**、**Activiti**和**Flowable**等是专门的工作流框架，它们提供了设计、执行和监控工作流的功能。这些框架可以与Java、Spring Boot等技术结合使用。



## 2. 工作流分类

1. 内存工作流：内存工作流是最近简单的一类工作流，该类工作流无需持久化，无需状态，在内存调用完成即可。
2. 状态机工作流：需要记录每个节点是否执行成功，并且具备系统自动重试的时候，我们就需要状态机工作流。状态机是在内存工作流的基础上，增加每个节点状态持久化，并增加重试机制。
3. 人工工作流：和状态机相比，人工工作流多了外部触发的功能

根据业务类型，选择是否需要持久化节点，比如用户询价、查看商品详情等只读业务，则直接采用内存式工作流；如果有持久化重试需求，比如处理支付回调消息，驱动开通用户权益，当流程处理失败，必须保存当前的流程快照并且需要进行重试补偿，则可以选用状态机工作流。当需要有外部用户触发，例如用户审批等人工节点参与，则可以使用人工工作流。



## 3. 工作流异常处理

![image-20240906113226941](https://raw.githubusercontent.com/xupengboo/xupengboo-picture/main/img/image-20240906113226941.png)

## 4. 工作流总结

> *工作流用的好的话，也是对整体业务思维逻辑的体现。工作流能划清楚，至少业务已经懂了，剩下的只是撸码问题，而撸码是最简单的。就好比一个算法题，[设计算法](https://zhida.zhihu.com/search?q=设计算法&zhida_source=entity&is_preview=1)是最难的，具体代码实现则降低了一个数量级，当然，编程功底不过关的另说。*
>
> *工作流用得好，从另外一个角度来说，业务可维护、业务可视化，对后来者学习和维护的成本都很低。基本上来说，用工作流设计的逻辑，很少出现翔一样的不可维护，想打人的代码。*\
>
> *工作流用的好，整个流程具备闭环，具有很强的容错性。异常分支的考虑、错误节点的重试、异常节点告警、节点持久化、超时节点配置，系统就具备很强的[鲁棒性](https://zhida.zhihu.com/search?q=鲁棒性&zhida_source=entity&is_preview=1)了。*
>
> *工作流用的好，当然，下班就会更早。*
>
> 参考：[https://zhuanlan.zhihu.com/p/113387814](https://zhuanlan.zhihu.com/p/113387814)
