<template><div><h1 id="mvnã€jdkå®‰è£…" tabindex="-1"><a class="header-anchor" href="#mvnã€jdkå®‰è£…"><span>mvnã€jdkå®‰è£…</span></a></h1>
<p><a href="https://blog.csdn.net/qq_38738510/article/details/105567513" target="_blank" rel="noopener noreferrer">CentOS7å®‰è£…Maven_centos7å®‰è£…maven-CSDNåšå®¢</a></p>
<p><a href="https://blog.csdn.net/codedz/article/details/124044974" target="_blank" rel="noopener noreferrer">CentOS7å®‰è£…jdk8æ•™ç¨‹_centos7å®‰è£…jdk8-CSDNåšå®¢</a></p>
<h1 id="éƒ¨ç½²è‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²è‡ªå®šä¹‰ç½‘ç»œ"><span>éƒ¨ç½²è‡ªå®šä¹‰ç½‘ç»œ</span></a></h1>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œã€‚</span></span>
<span class="line">docker network create itholmes_network</span>
<span class="line"><span class="token comment"># 2. é€šè¿‡ä»¥ä¸‹æ–¹å¼ç»‘å®šç½‘ç»œ æˆ–è€… åˆ›å»ºæ—¶ï¼Œ--network itholmes_network</span></span>
<span class="line">docker network connect itholmes_network mysql</span>
<span class="line">docker network disconnect itholmes_network mysql</span>
<span class="line"><span class="token comment"># 3. é‡å¯</span></span>
<span class="line">docker restart container_name</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="dockerfile-å†™æ³•" tabindex="-1"><a class="header-anchor" href="#dockerfile-å†™æ³•"><span>Dockerfile å†™æ³•</span></a></h1>
<div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre v-pre><code><span class="line"><span class="token comment"># åŸºç¡€é•œåƒ</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span>  openjdk:8-jre</span></span>
<span class="line"><span class="token comment"># author</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">MAINTAINER</span> ruoyi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‚è½½ç›®å½•</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">VOLUME</span> /home/ruoyi</span></span>
<span class="line"><span class="token comment"># åˆ›å»ºç›®å½•</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> mkdir -p /home/ruoyi</span></span>
<span class="line"><span class="token comment"># æŒ‡å®šè·¯å¾„</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /home/ruoyi</span></span>
<span class="line"><span class="token comment"># å¤åˆ¶jaræ–‡ä»¶åˆ°è·¯å¾„</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> ./jar/ruoyi-auth.jar /home/ruoyi/ruoyi-auth.jar</span></span>
<span class="line"><span class="token comment"># å¯åŠ¨è®¤è¯æœåŠ¡</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">"java"</span>,<span class="token string">"-jar"</span>,<span class="token string">"ruoyi-auth.jar"</span>]</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="docker-swarm-è·¨å®¿ä¸»æœºé€šè®¯" tabindex="-1"><a class="header-anchor" href="#docker-swarm-è·¨å®¿ä¸»æœºé€šè®¯"><span>docker Swarm è·¨å®¿ä¸»æœºé€šè®¯</span></a></h1>
<p><a href="https://blog.csdn.net/adparking/article/details/119140418" target="_blank" rel="noopener noreferrer">è·¨å®¿ä¸»æœº- å¦‚ä½•å®ç° Docker å®¹å™¨çš„é€šè®¯ï¼Ÿï¼ˆDocker-Swarmï¼‰_docker swarm è®¿é—®å®¿ä¸»æœº add-host-CSDNåšå®¢</a></p>
<blockquote>
<p>ğŸ’¡Tipsï¼šworkèŠ‚ç‚¹ä¸€å¼€å§‹ä¸ä¼šåˆ·æ–°å‡ºæ¥åœ¨managerèŠ‚ç‚¹åˆ›å»ºçš„networkï¼Œä¹‹åæŸä¸ªå®¹å™¨æœåŠ¡å£°æ˜ä»¥åæ‰èƒ½æ„å»ºã€‚</p>
</blockquote>
<h1 id="dockerä¸­é—´æœåŠ¡å™¨-æ­å»º" tabindex="-1"><a class="header-anchor" href="#dockerä¸­é—´æœåŠ¡å™¨-æ­å»º"><span>dockerä¸­é—´æœåŠ¡å™¨ æ­å»º</span></a></h1>
<h2 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql"><span>MySQL</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># Mysql 8ç‰ˆæœ¬ï¼š</span></span>
<span class="line">docker run <span class="token operator">-</span>d <span class="token operator">-</span>p 3306:3306 <span class="token operator">--</span>privileged=true \</span>
<span class="line"><span class="token operator">--</span>restart unless-stopped \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/mysql/log:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log/mysql \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/mysql/<span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/mysql \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/mysql/conf:<span class="token operator">/</span>etc/mysql/conf<span class="token punctuation">.</span>d \</span>
<span class="line"><span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=0818 <span class="token operator">--</span>name mysql mysql:8<span class="token punctuation">.</span>0<span class="token punctuation">.</span>34</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Mysql 5ç‰ˆæœ¬ï¼š</span></span>
<span class="line">docker run <span class="token operator">-</span>p 3306:3306 <span class="token operator">--</span>privileged=true <span class="token operator">--</span>name mysql \</span>
<span class="line"><span class="token operator">--</span>restart unless-stopped \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/mysql/log:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log/mysql \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/mysql/<span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/mysql \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/mysql/conf:<span class="token operator">/</span>etc/mysql \</span>
<span class="line"><span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=0818 \</span>
<span class="line"><span class="token operator">-</span>d mysql:5<span class="token punctuation">.</span>7</span>
<span class="line"></span>
<span class="line"><span class="token comment"># å‚æ•°è¯´æ˜</span></span>
<span class="line"><span class="token comment"># -p 3306:3306ï¼šå°†å®¹å™¨çš„ 3306 ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„ 3306 ç«¯å£</span></span>
<span class="line"><span class="token comment"># -v /mydata/mysql/conf:/etc/mysqlï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº</span></span>
<span class="line"><span class="token comment"># -v /mydata/mysql/log:/var/log/mysqlï¼šå°†æ—¥å¿—æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº</span></span>
<span class="line"><span class="token comment"># -v /mydata/mysql/data:/var/lib/mysql/ï¼šå°†é…ç½®æ–‡ä»¶å¤¹æŒ‚è½½åˆ°ä¸»æœº</span></span>
<span class="line"><span class="token comment"># -e MYSQL_ROOT_PASSWORD=rootï¼šåˆå§‹åŒ– root ç”¨æˆ·çš„å¯†ç </span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p><strong>æ³¨æ„ï¼šMySQL åœ¨<code v-pre>/etc/mysql/conf.d</code>ç›®å½•ä¸‹åˆ›å»ºè‡ªå®šä¹‰çš„<code v-pre>.cnf</code>æ–‡ä»¶æ¥è¡¥å……<code v-pre>my.cnf</code>çš„é…ç½®ã€‚ä¸ç›´æ¥ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶ï¼ˆå¦‚<code v-pre>/etc/mysql/my.cnf</code>ï¼‰ã€‚</strong></p>
</blockquote>
<p>mysql5çš„my.inié…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre v-pre><code><span class="line"><span class="token comment"># vi /mydata/mysql/conf/my.cnf</span></span>
<span class="line"><span class="token punctuation">[</span>client<span class="token punctuation">]</span></span>
<span class="line">default-character-set<span class="token operator">=</span>utf8</span>
<span class="line"><span class="token punctuation">[</span>mysql<span class="token punctuation">]</span></span>
<span class="line">default-character-set<span class="token operator">=</span>utf8</span>
<span class="line"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span></span>
<span class="line"><span class="token assign-left variable">init_connect</span><span class="token operator">=</span><span class="token string">'SET collation_connection = utf8_unicode_ci'</span> <span class="token assign-left variable">init_connect</span><span class="token operator">=</span><span class="token string">'SET NAMES utf8'</span> character-set-server<span class="token operator">=</span>utf8</span>
<span class="line">collation-server<span class="token operator">=</span>utf8_unicode_ci</span>
<span class="line">skip-character-set-client-handshake</span>
<span class="line">skip-name-resolve</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mysql8çš„my.inié…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre v-pre><code><span class="line"><span class="token comment"># vi /mydata/mysql/conf/my.cnf</span></span>
<span class="line"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment">#è®¾ç½®æ—¶åŒºä¸ºä¸œå…«åŒºï¼Œæ­¤é¡¹è®¾ç½®åï¼Œåœ¨è¿æ¥MySQLçš„æ—¶å€™å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½æ‰‹åŠ¨è®¾ç½®æ—¶åŒº</span></span>
<span class="line">default-time-zone <span class="token operator">=</span> <span class="token string">'+8:00'</span></span>
<span class="line"><span class="token comment"># è®¾ç½®3306ç«¯å£</span></span>
<span class="line"><span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3306</span></span>
<span class="line"><span class="token comment"># è®¾ç½®mysqlçš„å®‰è£…ç›®å½•ï¼Œè®°å¾—åˆ‡æ¢æˆè‡ªå·±çš„è·¯å¾„</span></span>
<span class="line"><span class="token assign-left variable">basedir</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mysql<span class="token punctuation">\</span>mysql2<span class="token punctuation">\</span>mysql-8.0.27-winx64</span>
<span class="line"><span class="token comment"># è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•</span></span>
<span class="line"><span class="token assign-left variable">datadir</span><span class="token operator">=</span>D:<span class="token punctuation">\</span>mysql<span class="token punctuation">\</span>mysql2<span class="token punctuation">\</span>mysql-8.0.27-winx64<span class="token punctuation">\</span>data</span>
<span class="line"><span class="token comment"># å…è®¸æœ€å¤§è¿æ¥æ•°</span></span>
<span class="line"><span class="token assign-left variable">max_connections</span><span class="token operator">=</span><span class="token number">200</span></span>
<span class="line"><span class="token comment"># å…è®¸è¿æ¥å¤±è´¥çš„æ¬¡æ•°ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢æœ‰äººä»è¯¥ä¸»æœºè¯•å›¾æ”»å‡»æ•°æ®åº“ç³»ç»Ÿ</span></span>
<span class="line"><span class="token assign-left variable">max_connect_errors</span><span class="token operator">=</span><span class="token number">10</span></span>
<span class="line"><span class="token comment"># æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸ºUTF8</span></span>
<span class="line">character-set-server<span class="token operator">=</span>utf8</span>
<span class="line"><span class="token comment"># åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“</span></span>
<span class="line">default-storage-engine<span class="token operator">=</span>INNODB</span>
<span class="line"><span class="token comment"># é»˜è®¤ä½¿ç”¨â€œmysql_native_passwordâ€æ’ä»¶è®¤è¯</span></span>
<span class="line"><span class="token assign-left variable">default_authentication_plugin</span><span class="token operator">=</span>mysql_native_password</span>
<span class="line"><span class="token punctuation">[</span>mysql<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</span></span>
<span class="line">default-character-set<span class="token operator">=</span>utf8</span>
<span class="line"><span class="token punctuation">[</span>client<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># è®¾ç½®mysqlå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯æ—¶é»˜è®¤ä½¿ç”¨çš„ç«¯å£</span></span>
<span class="line"><span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3306</span></span>
<span class="line">default-character-set<span class="token operator">=</span>utf8</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>docker5.7éƒ¨ç½²ï¼Œæ— æ³•è¿›å…¥MySQLæœåŠ¡å†…éƒ¨é—®é¢˜ï¼š</strong></p>
<p><strong>1ã€å…ˆè¿›å»å®¹å™¨ä¸­å®‰è£…vimå·¥å…·</strong></p>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line">docker exec <span class="token operator">-</span>it mysql bash</span>
<span class="line">apt-get update</span>
<span class="line">apt-get <span class="token operator">-</span>y install vim</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2ã€ä¿®æ”¹/etc/mysql/conf.d/docker.cnfæ–‡ä»¶ï¼Œæ·»åŠ ï¼šskip-grant-tables</strong></p>
<div class="language-latex line-numbers-mode" data-highlighter="prismjs" data-ext="latex" data-title="latex"><pre v-pre><code><span class="line"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span></span>
<span class="line">skip-host-cache</span>
<span class="line">skip-name-resolve</span>
<span class="line">skip-grant-tables</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3ã€é€€å‡ºï¼Œé‡å¯mysqlå®¹å™¨</strong></p>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line">docker restart mysql</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><strong>4ã€å†æ¬¡è¿›å…¥å®¹å™¨mysql -uroot -pè¿›å…¥mysqlå</strong></p>
<div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre v-pre><code><span class="line">mysql<span class="token operator">></span> <span class="token keyword">use</span> mysql<span class="token punctuation">;</span></span>
<span class="line">Reading <span class="token keyword">table</span> information <span class="token keyword">for</span> completion <span class="token keyword">of</span> <span class="token keyword">table</span> <span class="token operator">and</span> <span class="token keyword">column</span> names</span>
<span class="line">You can turn <span class="token keyword">off</span> this feature <span class="token keyword">to</span> get a quicker startup <span class="token keyword">with</span> <span class="token operator">-</span>A</span>
<span class="line"></span>
<span class="line"><span class="token keyword">Database</span> changed</span>
<span class="line"></span>
<span class="line">mysql<span class="token operator">></span> <span class="token keyword">update</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">set</span> authentication_string <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">"root1234"</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token keyword">user</span><span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span></span>
<span class="line">Query OK<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">Rows</span> <span class="token keyword">matched</span>: <span class="token number">2</span>  Changed: <span class="token number">2</span>  <span class="token keyword">Warnings</span>: <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">mysql<span class="token operator">></span> <span class="token keyword">exit</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>5ã€åˆ é™¤/etc/mysql/conf.d/docker.cnfæ–‡ä»¶ä¸­æ·»åŠ çš„skip-grant-tablesï¼Œåœ¨é‡å¯å®¹å™¨</strong>
<strong>6ã€å†æ¬¡è¿›å…¥mysqlå°±æ­£å¸¸äº†ã€‚</strong></p>
<p><strong>ä¸‹è½½åŒ…è¿‡æ…¢ï¼š</strong>
<a href="https://blog.csdn.net/qq_41739987/article/details/117875020" target="_blank" rel="noopener noreferrer">dockerå®¹å™¨ä¸­ä¸‹è½½vimæŒ‡ä»¤çš„é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œè§£å†³æ–¹æ¡ˆ-CSDNåšå®¢</a>
<strong>dockeréƒ¨ç½²mysql5.7å¼‚å¸¸ï¼š</strong>
<a href="https://blog.csdn.net/weixin_48226988/article/details/112681407" target="_blank" rel="noopener noreferrer">dockeréƒ¨ç½²mysql5.7åç™»å½•æ—¶å‡ºç°Access denied for user â€˜rootâ€˜@â€˜localhostâ€˜ (using password: YES)çš„è§£å†³æ–¹æ³•-CSDNåšå®¢</a></p>
<h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis"><span>Redis</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># Redis å®¹å™¨å·é…ç½®</span></span>
<span class="line">docker run <span class="token operator">-</span>p 6379:6379 <span class="token operator">--</span>name redis <span class="token operator">-</span>v <span class="token operator">/</span>itholmes/redis/<span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">data</span> \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/redis/conf/redis<span class="token punctuation">.</span>conf:<span class="token operator">/</span>etc/redis/redis<span class="token punctuation">.</span>conf \</span>
<span class="line"><span class="token operator">-</span>d redis redis-server <span class="token operator">/</span>etc/redis/redis<span class="token punctuation">.</span>conf</span>
<span class="line"></span>
<span class="line"><span class="token comment"># è¿›åŒ–ç‰ˆ</span></span>
<span class="line">docker run <span class="token operator">-</span>d \</span>
<span class="line"><span class="token operator">--</span>name redis \</span>
<span class="line"><span class="token operator">-</span>p 6379:6379 \</span>
<span class="line"><span class="token operator">--</span>restart unless-stopped \</span>
<span class="line"><span class="token operator">--</span>memory 256m \</span>
<span class="line"><span class="token operator">--</span>memory-swap 512m \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>opt/redis/<span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">data</span> \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>opt/redis/conf/redis<span class="token punctuation">.</span>conf:<span class="token operator">/</span>etc/redis/redis<span class="token punctuation">.</span>conf \</span>
<span class="line">redis redis-server <span class="token operator">/</span>etc/redis/redis<span class="token punctuation">.</span>conf</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es" tabindex="-1"><a class="header-anchor" href="#es"><span>ES</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># å®‰è£…es docker</span></span>
<span class="line">docker pull elasticsearch:7<span class="token punctuation">.</span>4<span class="token punctuation">.</span>2</span>
<span class="line"><span class="token comment"># æä¾›å¯è§†åŒ– å¯è§†åŒ–æ£€ç´¢æ•°æ®</span></span>
<span class="line">docker pull kibana:7<span class="token punctuation">.</span>4<span class="token punctuation">.</span>2 </span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŸ¥çœ‹å®‰è£…è¿˜æœ‰å¤šå°‘å†…å­˜</span></span>
<span class="line">free <span class="token operator">-</span>m</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æŒ‚è½½çš„ é…ç½®å’Œæ•°æ®å­˜å‚¨ ç›®å½•</span></span>
<span class="line">mkdir <span class="token operator">-</span>p <span class="token operator">/</span>mydata/elasticsearch/config</span>
<span class="line">mkdir <span class="token operator">-</span>p <span class="token operator">/</span>mydata/elasticsearch/<span class="token keyword">data</span></span>
<span class="line"><span class="token comment"># é…ç½®elasticsearchçš„é…ç½®æ–‡ä»¶ï¼Œ</span></span>
<span class="line"><span class="token comment"># ä½œç”¨ï¼šhttp.hostå‚æ•°ç”¨äºæŒ‡å®šElasticsearch HTTPæœåŠ¡çš„ç»‘å®šåœ°å€ã€‚å½“è®¾ç½®ä¸º0.0.0.0æ—¶ï¼Œè¡¨ç¤ºElasticsearchå°†ç›‘å¬æ‰€æœ‰å¯ç”¨çš„ç½‘ç»œæ¥å£ï¼ŒåŒ…æ‹¬æœ¬åœ°å›ç¯åœ°å€ï¼ˆlocalhostï¼‰å’Œå¤–éƒ¨ç½‘ç»œæ¥å£ã€‚</span></span>
<span class="line"><span class="token function">echo</span> <span class="token string">"http.host: 0.0.0.0"</span> >> <span class="token operator">/</span>mydata/elasticsearch/config/elasticsearch<span class="token punctuation">.</span>yml</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 9200ç«¯å£ï¼šæ¥å—Rest APIè¯·æ±‚ç«¯å£ã€‚</span></span>
<span class="line"><span class="token comment"># 9300ç«¯å£ï¼šåˆ†å¸ƒå¼é›†ç¾¤çŠ¶æ€ä¸‹çš„é€šä¿¡æ¥å£</span></span>
<span class="line"><span class="token comment"># -e "discovery.type=single-node"ï¼šæŒ‡å®šå•èŠ‚ç‚¹æ¨¡å¼</span></span>
<span class="line"><span class="token comment"># -e ES_JAVA_OPTS="-Xms64m -Xmx128m"ï¼šæŒ‡å®šåˆå§‹å ç”¨å†…å­˜ å’Œ æœ€å¤§å ç”¨å†…å­˜ï¼Œå¿…é¡»æŒ‡å®šï¼Œä¸ç„¶å æ­»å†…å­˜ã€‚</span></span>
<span class="line">docker run <span class="token operator">--</span>name elasticsearch <span class="token operator">-</span>p 9200:9200 <span class="token operator">-</span>p 9300:9300 \</span>
<span class="line"><span class="token operator">-</span>e <span class="token string">"discovery.type=single-node"</span> \</span>
<span class="line"><span class="token operator">-</span>e ES_JAVA_OPTS=<span class="token string">"-Xms64m -Xmx128m"</span> \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/elasticsearch/config/elasticsearch<span class="token punctuation">.</span>yml:<span class="token operator">/</span>usr/share/elasticsearch/config/elasticsearch<span class="token punctuation">.</span>yml \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/elasticsearch/<span class="token keyword">data</span>:<span class="token operator">/</span>usr/share/elasticsearch/<span class="token keyword">data</span> \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>mydata/elasticsearch/plugins:<span class="token operator">/</span>usr/share/elasticsearch/plugins \</span>
<span class="line"><span class="token operator">-</span>d elasticsearch:7<span class="token punctuation">.</span>4<span class="token punctuation">.</span>2</span>
<span class="line"></span>
<span class="line"><span class="token comment"># dockerå¯åŠ¨å¤±è´¥ï¼ŒæŸ¥çœ‹æ—¥å¿—</span></span>
<span class="line">docker logs åº”ç”¨å</span>
<span class="line"></span>
<span class="line"><span class="token comment"># å®‰è£…è¿‡ç¨‹å¯èƒ½é‡åˆ° elasticsearch accessdeniedé—®é¢˜ï¼Œé‚£æ˜¯æ–‡ä»¶ç›®å½•æƒé™é—®é¢˜</span></span>
<span class="line">chmod <span class="token operator">-</span>R 777 <span class="token operator">/</span>mydata/elasticsearch</span>
<span class="line"></span>
<span class="line"><span class="token comment"># é‡æ–°å¯åŠ¨elasticsearch</span></span>
<span class="line">docker <span class="token function">start</span> elasticsearch </span>
<span class="line"></span>
<span class="line"><span class="token comment"># -e ELASTICSEARCH_HOSTSï¼šæŒ‡å®šelasticsearchçš„ipåœ°å€å’Œapiç«¯å£å·</span></span>
<span class="line">docker run <span class="token operator">--</span>name kibana \</span>
<span class="line"><span class="token operator">-</span>e ELASTICSEARCH_HOSTS=http:<span class="token operator">/</span><span class="token operator">/</span>192<span class="token punctuation">.</span>168<span class="token punctuation">.</span>154<span class="token punctuation">.</span>132:9200 \</span>
<span class="line"><span class="token operator">-</span>p 5601:5601 \</span>
<span class="line"><span class="token operator">-</span>d kibana:7<span class="token punctuation">.</span>4<span class="token punctuation">.</span>2</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ³¨æ„ï¼šè¿™é‡Œå¯åŠ¨åæ˜¯ä¸€ä¸ªå°linuxå®¹å™¨ï¼Œæ‰€ä»¥ï¼Œæ­¤å¤„æ²¡åŠæ³•å»åº”ç”¨åœ¨hostsæ–‡ä»¶é…ç½®çš„åŸŸåè§£æï¼Œéœ€è¦ç”¨çœŸå®çš„IPæˆ–å…¬å…±åŸŸå</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># åŒæ ·é€šè¿‡logså‘½ä»¤ï¼Œæ’é™¤å®‰è£…å¤±è´¥é—®é¢˜</span></span>
<span class="line">docker logs kibana</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx"><span>Nginx</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># 1. å…ˆä¸‹è½½ä¸€ä¸ªnginxï¼Œæ–¹ä¾¿è·å–/etc/nginxç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ã€‚</span></span>
<span class="line">docker run <span class="token operator">-</span>p 80:80 <span class="token operator">--</span>name nginx <span class="token operator">-</span>d nginx:1<span class="token punctuation">.</span>10</span>
<span class="line"><span class="token comment"># å°†å®¹å™¨ä¸­çš„/etc/nginx å¤åˆ¶å½“å‰ç›®å½•ã€‚</span></span>
<span class="line">docker container <span class="token function">cp</span> nginx:<span class="token operator">/</span>etc/nginx <span class="token punctuation">.</span></span>
<span class="line"><span class="token comment"># å°†å…¶æ”¹ä¸ºconfæ–‡ä»¶ï¼Œç”¨æ¥æ˜ å°„confæ–‡ä»¶ã€‚</span></span>
<span class="line"><span class="token function">mv</span> nginx/ conf/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. åˆ›å»ºnginxå®¹å™¨</span></span>
<span class="line">docker run <span class="token operator">-</span>p 80:80 <span class="token operator">--</span>name nginx \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/nginx/html:<span class="token operator">/</span>usr/share/nginx/html \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/nginx/logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log/nginx \</span>
<span class="line"><span class="token operator">-</span>v <span class="token operator">/</span>itholmes/nginx/conf:<span class="token operator">/</span>etc/nginx \</span>
<span class="line"><span class="token operator">--</span>network itholmes_network \</span>
<span class="line"><span class="token operator">-</span>d nginx:1<span class="token punctuation">.</span>10</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. è®¿é—®å¯¹åº”ip:80 ï¼Œæµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸã€‚</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. è¿›å…¥nginx/htmlç›®å½•ä¸‹ï¼Œåˆ›å»ºesç›®å½•ï¼Œæ”¾ç½®esè¯å…¸å™¨ã€‚</span></span>
<span class="line">mkdir es</span>
<span class="line">cd es</span>
<span class="line"><span class="token comment"># åœ¨esç›®å½•ä¸‹é¢ï¼Œåˆ›å»ºä¸€ä¸ªfenci.txtæ–‡ä»¶ï¼šå¯ä»¥è¾“å…¥ä¸€äº›æµ‹è¯•è¯è¯­ã€å¼ ä¸‰ç­‰ç­‰ã€‚</span></span>
<span class="line">vi fenci<span class="token punctuation">.</span>txt</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rabbitmq" tabindex="-1"><a class="header-anchor" href="#rabbitmq"><span>RabbitMQ</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># 1. å¯åŠ¨ rabbitmq:management å®¹å™¨</span></span>
<span class="line">docker run <span class="token operator">-</span>d <span class="token operator">--</span>name rabbitmq <span class="token operator">-</span>p 5671:5671 <span class="token operator">-</span>p 5672:5672 \</span>
<span class="line"><span class="token operator">-</span>p 4369:4369 <span class="token operator">-</span>p 25672:25672 <span class="token operator">-</span>p 15671:15671 <span class="token operator">-</span>p 15672:15672 rabbitmq:management</span>
<span class="line"><span class="token comment"># 2. è‡ªåŠ¨é‡å¯</span></span>
<span class="line">docker update rabbitmq <span class="token operator">--</span>restart=always</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nacos" tabindex="-1"><a class="header-anchor" href="#nacos"><span>Nacos</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºé…ç½®ç›®å½•</span></span>
<span class="line">mkdir <span class="token operator">-</span>p <span class="token operator">/</span>itholmes/nacos/logs/                      <span class="token comment">#æ–°å»ºlogsç›®å½•</span></span>
<span class="line">mkdir <span class="token operator">-</span>p <span class="token operator">/</span>itholmes/nacos/conf/						<span class="token comment">#æ–°å»ºconfç›®å½•</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. å…ˆå¯åŠ¨ä¸€ä¸ªæ¡ˆä¾‹ï¼ŒæŠŠé…ç½®ç­‰å…¨éƒ¨æ‹¿è¿‡æ¥</span></span>
<span class="line">docker run <span class="token operator">-</span>p 8848:8848 <span class="token operator">--</span>name nacos <span class="token operator">-</span>d nacos/nacos-server:v2<span class="token punctuation">.</span>0<span class="token punctuation">.</span>4</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. å°†é…ç½®å¤åˆ¶å‡ºæ¥</span></span>
<span class="line">docker <span class="token function">cp</span> nacos:<span class="token operator">/</span>home/nacos/logs/ <span class="token operator">/</span>itholmes/nacos/</span>
<span class="line">docker <span class="token function">cp</span> nacos:<span class="token operator">/</span>home/nacos/conf/ <span class="token operator">/</span>itholmes/nacos/</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 4. ç§»é™¤æ—§çš„nacos</span></span>
<span class="line">docker <span class="token function">rm</span> <span class="token operator">-</span>f nacos</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 5. å¯åŠ¨æ–°çš„nacos</span></span>
<span class="line">docker run <span class="token operator">-</span>d \</span>
<span class="line">  <span class="token operator">--</span>name nacos \</span>
<span class="line">  <span class="token operator">-</span>p 8848:8848  <span class="token operator">-</span>p 9848:9848 <span class="token operator">-</span>p 9849:9849 \</span>
<span class="line">  <span class="token operator">--</span>privileged=true \</span>
<span class="line">  <span class="token operator">-</span>e JVM_XMS=512m \</span>
<span class="line">  <span class="token operator">-</span>e JVM_XMX=512m \</span>
<span class="line">  <span class="token operator">-</span>e MODE=standalone \</span>
<span class="line">  <span class="token operator">-</span>v <span class="token operator">/</span>itholmes/nacos/logs/:<span class="token operator">/</span>home/nacos/logs \</span>
<span class="line">  <span class="token operator">-</span>v <span class="token operator">/</span>itholmes/nacos/conf/:<span class="token operator">/</span>home/nacos/conf \</span>
<span class="line">  <span class="token operator">--</span>restart=always \</span>
<span class="line">nacos/nacos-server:v2<span class="token punctuation">.</span>0<span class="token punctuation">.</span>4</span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ¨èv2.0.4ï¼Œæ–°ç‰ˆæœ¬2.2ä¹‹åå¯èƒ½éœ€è¦é‰´æƒ  -e NACOS_AUTH_ENABLE=true  æ“ä½œã€‚</span></span>
<span class="line">è™½ç„¶èƒ½å¯åŠ¨èµ·æ¥ï¼Œä½†æ˜¯å¯åŠ¨çš„æ— æ³•è¿›è¡Œç™»å½•æ“ä½œï¼Œåº”è¯¥ä¸æ˜¯æˆ‘æƒ³è¦çš„nacosç³»ç»Ÿï¼Œå¯èƒ½ç‰ˆæœ¬ä¸å¯¹ã€‚</span>
<span class="line"></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat"><span>Tomcat</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line"><span class="token comment"># tomcatå®‰è£…</span></span>
<span class="line">docker run <span class="token operator">-</span>id <span class="token operator">--</span>name=c_tomcat \</span>
<span class="line"><span class="token operator">-</span>p 8080:8080 \</span>
<span class="line"><span class="token operator">-</span>v <span class="token variable">$PWD</span>:<span class="token operator">/</span>usr/local/tomcat/webapps \</span>
<span class="line">tomcat </span>
<span class="line"></span>
<span class="line"><span class="token comment"># -p 8080:8080ï¼šå°†å®¹å™¨çš„8080ç«¯å£æ˜ å°„åˆ°ä¸»æœºçš„8080ç«¯å£</span></span>
<span class="line"><span class="token comment"># -v $PWD:/usr/local/tomcat/webappsï¼šå°†ä¸»æœºä¸­å½“å‰ç›®å½•æŒ‚è½½åˆ°å®¹å™¨çš„webapps</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jenkins" tabindex="-1"><a class="header-anchor" href="#jenkins"><span>Jenkins</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line">docker run <span class="token operator">-</span>u root <span class="token operator">--</span>name jenkins \ </span>
<span class="line">	<span class="token operator">--</span>memory 512m <span class="token operator">--</span>memory-swap=512m \ </span>
<span class="line">  <span class="token comment"># --rm \ æ¨å‡ºå®¹å™¨è‡ªåŠ¨åˆ é™¤ï¼Œä¸€èˆ¬è€ƒè™‘é‡Šæ”¾å­˜å‚¨</span></span>
<span class="line">  <span class="token operator">-</span>d <span class="token operator">-</span>p 8080:8080 <span class="token operator">-</span>p 50000:50000 \</span>
<span class="line">  <span class="token operator">-</span>v <span class="token variable">$JENKINS_HOME</span><span class="token operator">/</span>jenkins-<span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>jenkins_home \</span>
<span class="line">  <span class="token operator">-</span>v <span class="token variable">$JENKINS_HOME</span><span class="token operator">/</span>docker<span class="token punctuation">.</span>sock:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run/docker<span class="token punctuation">.</span>sock \</span>
<span class="line">  jenkinsci/blueocean</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="gitlab" tabindex="-1"><a class="header-anchor" href="#gitlab"><span>Gitlab</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line">export GITLAB_HOME=<span class="token operator">/</span>itholmes/gitlab</span>
<span class="line"></span>
<span class="line">sudo docker run <span class="token operator">--</span>detach \</span>
<span class="line">  <span class="token operator">--</span>hostname gitlab<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>com \</span>
<span class="line">  <span class="token operator">--</span>publish 8000:443 <span class="token operator">--</span>publish 8001:80 <span class="token operator">--</span>publish 8002:22 \</span>
<span class="line">  <span class="token operator">--</span>name gitlab \</span>
<span class="line">  <span class="token operator">--</span>restart always \</span>
<span class="line">  <span class="token operator">--</span>memory 5g \</span>
<span class="line"> 	<span class="token operator">--</span>memory-swap=6g \</span>
<span class="line">  <span class="token operator">--</span>volume <span class="token variable">$GITLAB_HOME</span><span class="token operator">/</span>config:<span class="token operator">/</span>etc/gitlab \</span>
<span class="line">  <span class="token operator">--</span>volume <span class="token variable">$GITLAB_HOME</span><span class="token operator">/</span>logs:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>log/gitlab \</span>
<span class="line">  <span class="token operator">--</span>volume <span class="token variable">$GITLAB_HOME</span><span class="token operator">/</span><span class="token keyword">data</span>:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>opt/gitlab \</span>
<span class="line">  <span class="token operator">--</span>shm-size 256m \</span>
<span class="line">  registry<span class="token punctuation">.</span>gitlab<span class="token punctuation">.</span>cn/omnibus/gitlab-jh:latest</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rancher" tabindex="-1"><a class="header-anchor" href="#rancher"><span>Rancher</span></a></h2>
<div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre v-pre><code><span class="line">sudo docker run <span class="token operator">-</span>d <span class="token operator">--</span>privileged \</span>
<span class="line">	<span class="token operator">--</span>restart=unless-stopped \ </span>
<span class="line">  <span class="token operator">--</span>name rancher \</span>
<span class="line">  <span class="token operator">-</span>p 80:80 <span class="token operator">-</span>p 443:443 <span class="token operator">-</span>p 2379:2379 \</span>
<span class="line">  <span class="token operator">-</span>v <span class="token operator">/</span>itholmes/rancher:<span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib/rancher/ \ </span>
<span class="line">  rancher/rancher:v2<span class="token punctuation">.</span>5<span class="token punctuation">.</span>12</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="kafka" tabindex="-1"><a class="header-anchor" href="#kafka"><span>kafka</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre v-pre><code><span class="line"><span class="token function">docker</span> pull bitnami/kafka:3.0</span>
<span class="line"><span class="token comment"># kafka</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kafka-server <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--privileged</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9092</span>:9092 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /opt/mount/kafka/data:/bitnami <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /opt/mount/kafka/config/server.properties:/bitnami/kafka/config/server.properties <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /opt/mount/zookeeper/datalog:/datalog <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /etc/localtime:/etc/localtime <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">KAFKA_CFG_AUTO_CREATE_TOPICS_ENABLE</span><span class="token operator">=</span>true <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">ALLOW_PLAINTEXT_LISTENER</span><span class="token operator">=</span>yes <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--restart</span> always <span class="token punctuation">\</span></span>
<span class="line">  --security-opt <span class="token assign-left variable">label</span><span class="token operator">=</span>disable <span class="token punctuation">\</span></span>
<span class="line">  bitnami/kafka:3.0 <span class="token punctuation">\</span></span>
<span class="line">  /opt/bitnami/scripts/kafka/entrypoint.sh <span class="token punctuation">\</span></span>
<span class="line">  /opt/bitnami/scripts/kafka/run.sh</span>
<span class="line">  </span>
<span class="line"><span class="token comment"># è¿™ç§å¯åŠ¨æ–¹å¼ï¼Œå¿…é¡»è¿˜è¦æœ‰ä¸ªzookeeperã€‚</span></span>
<span class="line"><span class="token comment"># ä¹Ÿå¯ä»¥é‡‡ç”¨å®˜æ–¹çš„ï¼šhttps://kafka.apache.org/quickstart  ï¼Œ kraftæ¨¡å¼ï¼ˆkafkaè‡ªå¸¦çš„ã€‚ï¼‰</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="kafdrop" tabindex="-1"><a class="header-anchor" href="#kafdrop"><span>Kafdrop</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre v-pre><code><span class="line"> <span class="token comment"># kafdrop kafkaå¯è§†åŒ–å·¥å…·</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kafdrop <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--privileged</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9999</span>:9000 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">SERVER_SERVLET_CONTEXTPATH</span><span class="token operator">=</span>/ <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">KAFKA_BROKERCONNECT</span><span class="token operator">=</span>center-server:9092 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">JVM_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms256M -Xmx512M"</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">"/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>en_US.UTF-8 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable"><span class="token environment constant">LANGUAGE</span></span><span class="token operator">=</span>en_US:en <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable"><span class="token environment constant">LC_ALL</span></span><span class="token operator">=</span>en_US.UTF-8 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_VERSION</span><span class="token operator">=</span>jdk-11.0.14.1+1 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/opt/java/openjdk <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--restart</span> always <span class="token punctuation">\</span></span>
<span class="line">  --security-opt <span class="token assign-left variable">label</span><span class="token operator">=</span>disable <span class="token punctuation">\</span></span>
<span class="line">  obsidiandynamics/kafdrop:3.30.0 <span class="token punctuation">\</span></span>
<span class="line">  /kafdrop.sh</span>
<span class="line">  </span>
<span class="line"><span class="token comment"># åªéœ€è¦å…³ç³» KAFKA_BROKERCONNECT å°±è¡Œã€‚</span></span>
<span class="line"><span class="token comment"># æ­¤å¤–ï¼Œè¿˜è¦é…ç½®å¯¹åº” kafka æ”¯æŒå¤–éƒ¨å®¢æˆ·ç«¯è¿æ¥ã€‚</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>æ³¨æ„ï¼šç”±äºdockerå¯åŠ¨åæœ¬åœ°æ˜¯æ— æ³•è§£æè‡ªå®šä¹‰åŸŸåçš„ï¼Œæ‰€ä»¥è¦æ¢æˆIP æˆ–è€… ä¿®æ”¹å®¹å™¨å†…éƒ¨çš„åŸŸåæ˜ å°„ã€‚</p>
</blockquote>
<h2 id="zookeeper" tabindex="-1"><a class="header-anchor" href="#zookeeper"><span>zookeeper</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre v-pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">--name</span> zookeeper <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">--privileged</span> <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-p</span> <span class="token number">2181</span>:2181 <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-v</span> /opt/docker/zookeeper/conf/zoo.cfg:/conf/zoo.cfg <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-v</span> /opt/docker/zookeeper/logs:/logs <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-v</span> /opt/docker/zookeeper/data:/data <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-v</span> /opt/docker/zookeeper/datalog:/datalog <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-v</span> /etc/localtime:/etc/localtime <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span></span>
<span class="line"> <span class="token parameter variable">--restart</span> always <span class="token punctuation">\</span></span>
<span class="line"> zookeeper:3.8.0 <span class="token punctuation">\</span></span>
<span class="line"> zkServer.sh start-foreground</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


